{"version":3,"sources":["HistogramChart.js","PersistentLiveData.js","Chart.js","LiveNews.js","LiveData.js","UnderConstruction.js","NavBar.js","StockData.js","HomePage.js","App.js","index.js"],"names":["Plotly","window","Plot","createPlotlyComponent","HistogramChart","props","useState","active","setActive","modalOpen","setModalOpen","xbins_val","useRef","median","arr","mid","Math","floor","length","nums","sort","a","b","resetLayout","str","getComputedStyle","document","getElementById","getPropertyValue","vw","body","offsetWidth","figure","data","chart_data","index","layout","yaxis","title","xaxis","tickangle","ceil","tickfont","size","slider","sliders","pad","t","currentvalue","xanchor","prefix","font","color","steps","label","method","args","current","width","parseInt","slice","height","offsetHeight","margin","legend","showlegend","plain","splice","shapes","resetModalLayout","pad_str","autoexpand","config","modeBarButtonsToRemove","handleResize","setChartState","data_prices_histogram","type","hoverinfo","name","x","xbins","hoveron","scalemode","side","line","marker","fillcolor","y0","orientation","reduce","y","mode","dash","plot_bgcolor","paper_bgcolor","bargap","uirevision","yaxis2","overlaying","yaxis3","visible","l","r","colorway","yref","x0","x1","y1","frames","scrollZoom","responsive","chartState","useEffect","debouncedHandleResize","_","debounce","leading","addEventListener","removeEventListener","Segment","inverted","id","className","Label","attached","style","display","float","Modal","trigger","Icon","link","onClick","open","onClose","live_price","sticky","offsetTop","pageYOffset","firstChild","childNodes","marginLeft","padding","classList","add","onInitialized","onSliderChange","e","PersistentLiveData","newCandleData","chartData","setChartData","titles","cummUniqueVals","candleData","val","unique_vals","flag","push","j","i","histComponents","map","chart","key","Grid","Row","Column","Chart","candleSeries","volumeSeries","totalWorthSeries","setData","volumeData","totalWorthData","ref","chartRef","paddingLeft","chartRef2","LiveNews","Card","Group","Content","Header","Feed","Event","image","Date","content","Summary","LiveData","intraButtonValue","setIntraButtonValue","otherButtonsValue","setOtherButtonsValue","intraValueChange","setIntraValueChange","otherValueChange","setOtherValueChange","intraDayPressed","setIntraDayPressed","chart2","toolTip","toolTip2","React","createRef","handleClick","preventDefault","target","innerHTML","handleOtherClick","setCrosshair","subscribeCrosshairMove","param","price","seriesPrices","get","volume","time","toUTCString","high","low","close","getElementsByTagName","value","createChart","crosshair","CrosshairMode","Normal","backgroundColor","lineColor","textColor","grid","vertLines","horzLines","onresize","resize","applyOptions","timeScale","lockVisibleTimeRangeOnResize","rightBarStaysOnScroll","timeVisible","secondsVisible","tickMarkFormatter","tickMarkType","locale","console","log","year","isBusinessDay","getUTCFullYear","String","addCandlestickSeries","addHistogramSeries","lineWidth","priceFormat","overlay","scaleMargins","top","bottom","createElement","appendChild","fetchDailyData","sample","axios","params","n","then","response","data_length","fetchedCandleData","fetchedVolumeData","fetchedTotalWorthData","time_split","split","UTC","catch","error","marginBottom","paddingBottom","Button","compact","basic","UnderConstruction","marginRight","NavBar","activeNavItem","setActiveNavItem","isLoading","setIsLoading","results","setResults","searchValue","setSearchValue","history","useHistory","source","description","handleNavClick","Menu","text","Item","icon","src","paddingRight","alt","position","Search","fluid","input","iconPosition","placeholder","loading","onResultSelect","result","onSearchChange","setTimeout","re","RegExp","escapeRegExp","isMatch","test","filter","StockData","intraDayData","setIntraDayData","activeItem","setActiveItem","row","dateToChartTimeMinute","date","getFullYear","getMonth","getDate","getHours","getMinutes","fetchLiveData","all","spread","candle","newVolumeData","newTotalWorthData","incomingCandleData","incomingVolumeData","incomingTotalWorthData","newItem","textnode","createTextNode","onscroll","remove","interval","setInterval","clearInterval","paddingTop","toFixed","widths","AOS","init","HomePage","data-aos","data-aos-offset","data-aos-delay","data-aos-duration","data-aos-easing","App","exact","path","component","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.32af7d5d.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport createPlotlyComponent from \"react-plotly.js/factory\";\r\nimport { Label, Segment, Icon, Modal } from \"semantic-ui-react\";\r\nimport _ from 'lodash';\r\n\r\nconst Plotly = window.Plotly;\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\n// function debounce(fn, ms) {\r\n//   let timer;\r\n//   return (_) => {\r\n//     clearTimeout(timer);\r\n//     timer = setTimeout((_) => {\r\n//       timer = null;\r\n//       fn.apply(this, arguments);\r\n//     }, ms);\r\n//   };\r\n// }\r\n\r\nfunction HistogramChart(props) {\r\n  const [active, setActive] = useState(0);\r\n  // const [open, setOpen] = useState(false);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const xbins_val = useRef([0, 3.0, 1.5]);\r\n\r\n  const median = (arr) => {\r\n    const mid = Math.floor(arr.length / 2),\r\n      nums = [...arr].sort((a, b) => a - b);\r\n    return arr.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\r\n  };\r\n\r\n  const mean = () => {\r\n    return (\r\n      props.data.reduce(function (a, b) {\r\n        return a + b;\r\n      }, 0) / props.data.length\r\n    );\r\n  };\r\n\r\n  function resetLayout() {\r\n    var str = window\r\n      .getComputedStyle(document.getElementById(\"every-hist-segment\"), null)\r\n      .getPropertyValue(\"padding\");\r\n    var vw = document.body.offsetWidth;\r\n    figure.data = chart_data[props.index].data;\r\n    figure.layout.yaxis.title = chart_data[props.index].layout.yaxis.title;\r\n    figure.layout.xaxis.title = chart_data[props.index].layout.xaxis.title;\r\n    if (\r\n      chart_data[props.index].layout.xaxis.tickangle &&\r\n      Math.ceil(0.01 * (vw * 0.7)) >= 8\r\n    ) {\r\n      // if (vw <= 1280) {\r\n        figure.layout.xaxis.tickangle =\r\n          chart_data[props.index].layout.xaxis.tickangle;\r\n        figure.layout.xaxis.tickfont = { size: Math.ceil(0.01 * (vw * 0.7)) };\r\n      // }\r\n    }\r\n\r\n    if (props.slider) {\r\n      figure.layout.sliders = [\r\n        {\r\n          pad: { t: 40 },\r\n          active: active,\r\n          currentvalue: {\r\n            xanchor: \"right\",\r\n            prefix: \"bin size: \",\r\n            font: {\r\n              color: \"#888\",\r\n              size: 15,\r\n            },\r\n          },\r\n          steps: [\r\n            {\r\n              label: \"auto\",\r\n              method: \"restyle\",\r\n              args: [\"xbins.size\", xbins_val.current[0]],\r\n            },\r\n            {\r\n              label: \"3.0\",\r\n              method: \"restyle\",\r\n              args: [\"xbins.size\", xbins_val.current[1]],\r\n            },\r\n            {\r\n              label: \"1.5\",\r\n              method: \"restyle\",\r\n              args: [\"xbins.size\", xbins_val.current[2]],\r\n            },\r\n          ],\r\n        },\r\n      ];\r\n      figure.layout.width =\r\n        document.getElementById(\"histogram-charts\").offsetWidth * 0.5 -\r\n        parseInt(str.slice(-str.length, -2), 10) * 4;\r\n      figure.layout.height =\r\n        document.getElementById(\"histogram-charts\").offsetHeight * 0.47 + 80;\r\n    } else {\r\n      // delete figure.layout.sliders;\r\n      figure.layout.width =\r\n        document.getElementById(\"histogram-charts\").offsetWidth * 0.5 -\r\n        parseInt(str.slice(-str.length, -2), 10) * 4;\r\n      figure.layout.height =\r\n        document.getElementById(\"histogram-charts\").offsetHeight * 0.5 - 60;\r\n      figure.layout.margin.b = 50;\r\n    }\r\n    if (props.legend) {\r\n      // delete figure.layout.legend;\r\n      figure.layout.showlegend = true;\r\n    }\r\n    if (props.plain) {\r\n      if (props.index === 0) {\r\n        figure.data.splice(1, 3);\r\n      }\r\n      delete figure.layout.shapes;\r\n    }\r\n  }\r\n\r\n  function resetModalLayout() {\r\n    if(document.getElementById(\"modal-hist-segment\")) {\r\n      var str = window\r\n        .getComputedStyle(document.getElementById(\"modal-hist-segment\"), null)\r\n        .getPropertyValue(\"width\");\r\n      var pad_str = window\r\n        .getComputedStyle(document.getElementById(\"modal-hist-segment\"), null)\r\n        .getPropertyValue(\"padding\");\r\n      figure.data = chart_data[props.index].data;\r\n      figure.layout.yaxis.title = chart_data[props.index].layout.yaxis.title;\r\n      figure.layout.xaxis.title = chart_data[props.index].layout.xaxis.title;\r\n\r\n      figure.layout.width = parseInt(str.slice(-str.length, -2), 10) - (parseInt(pad_str.slice(-str.length, -2), 10)*2);\r\n      figure.layout.height = document.body.offsetHeight * 0.8;\r\n\r\n      figure.layout.showlegend = true;\r\n      figure.layout.margin = {autoexpand: true};\r\n      if(props.index !== 0) {\r\n        delete figure.layout.shapes;\r\n      }\r\n      delete figure.config.modeBarButtonsToRemove;\r\n    }\r\n  }\r\n\r\n  function handleResize() {\r\n    if (modalOpen) {\r\n      resetModalLayout();\r\n    } else {\r\n      resetLayout();\r\n    }\r\n    setChartState(figure);\r\n  }\r\n\r\n  function handleExpand() {\r\n    setModalOpen(true);\r\n  }\r\n\r\n  function handleCollapse() {\r\n    if (document.getElementById(\"live-price\") !== null) {\r\n      var live_price = document.getElementById(\"live-price\");\r\n      var sticky = live_price.offsetTop;\r\n      if (window.pageYOffset > sticky) {\r\n        live_price.firstChild.style.display = 'inline';\r\n        live_price.childNodes[1].style.display = 'inline';\r\n        live_price.childNodes[1].style.marginLeft = '20px';\r\n        live_price.style.margin = '';\r\n        live_price.style.padding = '';\r\n        live_price.classList.add(\"sticky\");\r\n      }\r\n    }\r\n    setModalOpen(false);\r\n  }\r\n\r\n  var data_prices_histogram = {\r\n    data: [\r\n      {\r\n        type: \"histogram\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"Histogram\",\r\n        x: props.data,\r\n        xbins: {\r\n          size: xbins_val.current[active],\r\n        },\r\n      },\r\n      {\r\n        type: \"violin\",\r\n        name: \"KDE Line\",\r\n        hoveron: \"points\",\r\n        hoverinfo: \"name\",\r\n        scalemode: \"count\",\r\n        side: \"positive\",\r\n        line: {\r\n          color: \"#bebada\",\r\n        },\r\n        marker: {\r\n          color: \"rgba(0, 0, 0, 0)\",\r\n        },\r\n        fillcolor: \"rgba(0,0,0,0)\",\r\n        yaxis: \"y2\",\r\n        y0: \"-\",\r\n        x: props.data,\r\n        orientation: \"h\",\r\n      },\r\n      {\r\n        x: [mean()],\r\n        y: [5],\r\n        yaxis: \"y3\",\r\n        hoverinfo: \"name+x\",\r\n        mode: \"lines\",\r\n        type: \"scatter\",\r\n        name: \"Mean\",\r\n        marker: {\r\n          color: \"rgb(200, 0, 255)\",\r\n        },\r\n        line: {\r\n          dash: \"dot\",\r\n          width: 4,\r\n        },\r\n      },\r\n      {\r\n        x: [median(props.data)],\r\n        y: [5],\r\n        yaxis: \"y3\",\r\n        hoverinfo: \"name+x\",\r\n        mode: \"lines\",\r\n        name: \"Median\",\r\n        marker: {\r\n          color: \"rgb(200, 150, 255)\",\r\n        },\r\n        line: {\r\n          dash: \"dot\",\r\n          width: 4,\r\n        },\r\n      },\r\n    ],\r\n    layout: {\r\n      yaxis: { title: \"Frequency\" },\r\n      xaxis: { title: \"Stock Price\" },\r\n    },\r\n  };\r\n\r\n  var data_sector_volumes = {\r\n    data: [\r\n      {\r\n        x: [\"AJANTPHARM\"],\r\n        y: [20],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AJANTPHARM\",\r\n      },\r\n      {\r\n        x: [\"SUNPHARMA\"],\r\n        y: [12],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"SUNPHARMA\",\r\n      },\r\n      {\r\n        x: [\"AUROPHARMA\"],\r\n        y: [18],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AUROPHARMA\",\r\n      },\r\n      {\r\n        x: [\"BIOCON\"],\r\n        y: [29],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"BIOCON\",\r\n      },\r\n\r\n      {\r\n        x: [\"CIPLA\"],\r\n        y: [14],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"CIPLA\",\r\n      },\r\n    ],\r\n    layout: {\r\n      yaxis: { title: \"Total Volume\" },\r\n      xaxis: { title: \"Sector Stocks\", tickangle: 10 },\r\n    },\r\n  };\r\n\r\n  var data_sector_totalworth = {\r\n    data: [\r\n      {\r\n        x: [\"AJANTPHARM\"],\r\n        y: [20],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AJANTPHARM\",\r\n      },\r\n      {\r\n        x: [\"SUNPHARMA\"],\r\n        y: [12],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"SUNPHARMA\",\r\n      },\r\n      {\r\n        x: [\"AUROPHARMA\"],\r\n        y: [18],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AUROPHARMA\",\r\n      },\r\n      {\r\n        x: [\"BIOCON\"],\r\n        y: [29],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"BIOCON\",\r\n      },\r\n\r\n      {\r\n        x: [\"CIPLA\"],\r\n        y: [14],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"CIPLA\",\r\n      },\r\n    ],\r\n    layout: {\r\n      yaxis: { title: \"Total Worth\" },\r\n      xaxis: { title: \"Sector Stocks\", tickangle: 10 },\r\n    },\r\n  };\r\n\r\n  var data_sector_indices = {\r\n    data: [\r\n      {\r\n        x: [\"AJANTPHARM\"],\r\n        y: [20],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AJANTPHARM\",\r\n      },\r\n      {\r\n        x: [\"SUNPHARMA\"],\r\n        y: [12],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"SUNPHARMA\",\r\n      },\r\n      {\r\n        x: [\"AUROPHARMA\"],\r\n        y: [18],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"AUROPHARMA\",\r\n      },\r\n      {\r\n        x: [\"BIOCON\"],\r\n        y: [29],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"BIOCON\",\r\n      },\r\n\r\n      {\r\n        x: [\"CIPLA\"],\r\n        y: [14],\r\n        type: \"bar\",\r\n        hoverinfo: \"x+y\",\r\n        name: \"CIPLA\",\r\n      },\r\n    ],\r\n    layout: {\r\n      yaxis: { title: \"Indices\" },\r\n      xaxis: { title: \"Sector Stocks\", tickangle: 10 },\r\n    },\r\n  };\r\n\r\n  var figure = {\r\n    data: [],\r\n    layout: {\r\n      width: document.body.offsetWidth * 0.1,\r\n      height: document.body.offsetHeight * 0.5,\r\n      // margin: {\r\n      //   autoexpand: true\r\n      // },\r\n      plot_bgcolor: \"#2B2B43\",\r\n      paper_bgcolor: \"#2B2B43\",\r\n      bargap: 0.05,\r\n      uirevision: true,\r\n      font: {\r\n        color: \"#a6a6a6\",\r\n      },\r\n      showlegend: false,\r\n      legend: {\r\n        x: 0,\r\n        y: 1.5,\r\n        // itemclick: \"toggleothers\" | \"false\"\r\n      },\r\n      yaxis: { title: \"\" },\r\n      yaxis2: {\r\n        overlaying: \"y\",\r\n        side: \"right\",\r\n      },\r\n      yaxis3: {\r\n        overlaying: \"y\",\r\n        side: \"right\",\r\n        visible: false,\r\n      },\r\n      xaxis: { title: \"\" },\r\n      margin: {\r\n        l: 60,\r\n        r: 30,\r\n        b: 20,\r\n        t: 10,\r\n        autoexpand: true,\r\n      },\r\n      // colorway: ['#178bdd', '#bb4603', '#9925a8', '#002b88', '#51009c', '#612d23', '#ff60cf', '#c6f3dd', '#ad950a', '#17becf'],\r\n      colorway: ['#0083bf', '#fc9003', '#f0fc03', '#94ffed', '#d14900', '#792bff', '#cc7ddb', '#456aff', '#c20091', '#ffdbfc'],\r\n      shapes: [\r\n        {\r\n          type: \"line\",\r\n          yref: \"paper\",\r\n          x0:\r\n            props.data.reduce(function (a, b) {\r\n              return a + b;\r\n            }, 0) / props.data.length,\r\n          y0: 0,\r\n          x1:\r\n            props.data.reduce(function (a, b) {\r\n              return a + b;\r\n            }, 0) / props.data.length,\r\n          y1: 1,\r\n          line: {\r\n            color: \"rgb(200, 0, 255)\",\r\n            width: 4,\r\n            dash: \"dot\",\r\n          },\r\n        },\r\n        {\r\n          type: \"line\",\r\n          yref: \"paper\",\r\n          x0: median(props.data),\r\n          y0: 0,\r\n          x1: median(props.data),\r\n          y1: 1,\r\n          line: {\r\n            color: \"rgb(200, 150, 255)\",\r\n            width: 4,\r\n            dash: \"dot\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    frames: [],\r\n    config: { scrollZoom: true, responsive: true, modeBarButtonsToRemove: ['zoom2d', 'pan2d', 'select2d', 'lasso2d', 'zoomIn2d', 'zoomOut2d', 'autoScale2d', 'zoom3d', 'pan3d', 'orbitRotation', 'tableRotation', 'handleDrag3d', 'resetCameraDefault3d', 'resetCameraLastSave3d', 'hoverClosest3d', 'hoverClosestCartesian', 'hoverCompareCartesian', 'zoomInGeo', 'zoomOutGeo', 'resetGeo', 'hoverClosestGeo', 'hoverClosestGl2d', 'hoverClosestPie', 'toggleHover', 'toImage', 'sendDataToCloud', 'toggleSpikelines'], },\r\n  };\r\n\r\n  var chart_data = [\r\n    data_prices_histogram,\r\n    data_sector_volumes,\r\n    data_sector_totalworth,\r\n    data_sector_indices,\r\n  ];\r\n  const [chartState, setChartState] = useState(figure);\r\n\r\n  useEffect(() => {\r\n    const debouncedHandleResize = _.debounce(handleResize, 1000, {\r\n      leading: true,\r\n    })    \r\n    // debounce(handleResize, 1000);\r\n    window.addEventListener(\"resize\", debouncedHandleResize);\r\n\r\n    return (_) => {\r\n      window.removeEventListener(\"resize\", debouncedHandleResize);\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (modalOpen) {\r\n      resetModalLayout();\r\n    } else {\r\n      resetLayout();\r\n    }\r\n    // console.log(props.open);\r\n    setChartState(figure);\r\n  }, [props.data, modalOpen]);\r\n\r\n  return (\r\n    <Segment inverted id=\"every-hist-segment\">\r\n      <div className=\"every-hist\">\r\n        <Label inverted color=\"black\" attached=\"top\">\r\n          {props.title}\r\n          <div style={{ display: \"inline\", float: \"right\" }}>\r\n            <Modal\r\n              inverted\r\n              trigger={\r\n                <Icon\r\n                  link\r\n                  color=\"grey\"\r\n                  name=\"expand arrows alternate\"\r\n                  onClick={handleExpand}\r\n                />\r\n              }\r\n              open={modalOpen}\r\n              onClose={handleCollapse}\r\n            >\r\n              <Segment inverted id=\"modal-hist-segment\">\r\n                <Plot\r\n                  data={chartState.data}\r\n                  layout={chartState.layout}\r\n                  frames={chartState.frames}\r\n                  config={chartState.config}\r\n                  onInitialized={(figure) => {\r\n                    setChartState(figure);\r\n                  }}\r\n                  onSliderChange={(e) => {\r\n                    setActive(e.slider.active);\r\n                  }}\r\n                />\r\n              </Segment>\r\n            </Modal>\r\n          </div>\r\n        </Label>\r\n        <Plot\r\n          data={chartState.data}\r\n          layout={chartState.layout}\r\n          frames={chartState.frames}\r\n          config={chartState.config}\r\n          onInitialized={(figure) => {\r\n            setChartState(figure);\r\n          }}\r\n          onSliderChange={(e) => {\r\n            setActive(e.slider.active);\r\n          }}\r\n        />\r\n      </div>\r\n    </Segment>\r\n  );\r\n}\r\n\r\nexport default HistogramChart;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport HistogramChart from \"./HistogramChart\";\r\nimport { Grid } from \"semantic-ui-react\";\r\n\r\nfunction PersistentLiveData(props) {\r\n  const [chartData, setChartData] = useState([]);\r\n  const titles = useRef(null);\r\n  var cummUniqueVals = [];\r\n  var newCandleData;\r\n  titles.current = [\r\n    {\r\n      slider: false,\r\n      legend: false,\r\n      title: \"AJANTPHARM PRICES\",\r\n      plain: true,\r\n    },\r\n    {\r\n      slider: false,\r\n      legend: false,\r\n      title: \"SECTOR VOLUMES\",\r\n      plain: true,\r\n    },\r\n    {\r\n      slider: false,\r\n      legend: false,\r\n      title: \"SECTOR TRADING WORTH\",\r\n      plain: true,\r\n    },\r\n    {\r\n      slider: false,\r\n      legend: false,\r\n      title: \"ALL SECTOR INDICES\",\r\n      plain: true,\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (props.candleData && props.candleData.length !== 0) {\r\n      newCandleData = props.candleData[props.candleData.length - 1];\r\n      var val = [\"open\", \"high\", \"low\", \"close\"];\r\n      var unique_vals = [];\r\n      var flag = 0;\r\n      unique_vals.push(newCandleData[val[0]]);\r\n      for (var j = 1; j < 4; j++) {\r\n        for (var i = 0; i < unique_vals.length; i++) {\r\n          if (newCandleData[val[j]] === unique_vals[i]) {\r\n            flag = 1;\r\n          }\r\n        }\r\n        if (!flag) {\r\n          unique_vals.push(newCandleData[val[j]]);\r\n        }\r\n        flag = 0;\r\n      }\r\n      cummUniqueVals.push(...unique_vals);\r\n      setChartData([...chartData, ...cummUniqueVals]);\r\n    }\r\n  }, [props.candleData]);\r\n\r\n  const histComponents = titles.current.map((chart, index) => (\r\n    <HistogramChart\r\n      key={index}\r\n      index={index}\r\n      data={chartData}\r\n      slider={chart.slider}\r\n      legend={chart.legend}\r\n      title={chart.title}\r\n      plain={chart.plain}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div id=\"histogram-charts\">\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column width={8}>{histComponents[0]}</Grid.Column>\r\n          <Grid.Column width={8}>{histComponents[1]}</Grid.Column>\r\n        </Grid.Row>\r\n\r\n        <Grid.Row>\r\n          <Grid.Column width={8}>{histComponents[2]}</Grid.Column>\r\n          <Grid.Column width={8}>{histComponents[3]}</Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersistentLiveData;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction Chart (props) {\r\n\r\n    useEffect(() => {\r\n        if(props.candleSeries.current != null && props.volumeSeries.current != null && props.totalWorthSeries.current != null){\r\n            props.candleSeries.current.setData(props.candleData);\r\n            props.volumeSeries.current.setData(props.volumeData);\r\n            props.totalWorthSeries.current.setData(props.totalWorthData);\r\n        }\r\n    }, [props.candleData, props.volumeData]);\r\n\r\n    return (\r\n        <div>\r\n            <div ref={props.chartRef} className=\"top-half\"></div>\r\n            <div>\r\n                <p style={{paddingLeft: 10, margin: 0, color: 'rgb(129, 129, 129)'}}>TOTAL WORTH</p>\r\n                <div ref={props.chartRef2} className=\"bottom-half\"></div> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chart;\r\n\r\n\r\n","import React from \"react\";\r\nimport { Card, Feed } from \"semantic-ui-react\";\r\n\r\nfunction LiveNews() {\r\n  return (\r\n    <Card.Group>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>\r\n            <h4>LATEST NEWS</h4>\r\n          </Card.Header>\r\n        </Card.Content>\r\n        <Card.Content>\r\n          <Feed>\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/jenny.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"1 day ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Jenny Hess</a> to your <a>coworker</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/molly.png\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"3 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Molly Malone</a> as a friend.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n          </Feed>\r\n        </Card.Content>\r\n      </Card>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>\r\n            <h4>LATEST TWEETS</h4>\r\n          </Card.Header>\r\n        </Card.Content>\r\n        <Card.Content>\r\n          <Feed>\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/jenny.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"1 day ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Jenny Hess</a> to your <a>coworker</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/molly.png\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"3 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Molly Malone</a> as a friend.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n\r\n            <Feed.Event>\r\n              <Feed.Label image=\"https://react.semantic-ui.com/images/avatar/small/elliot.jpg\" />\r\n              <Feed.Content>\r\n                <Feed.Date content=\"4 days ago\" />\r\n                <Feed.Summary>\r\n                  You added <a>Elliot Baker</a> to your <a>musicians</a> group.\r\n                </Feed.Summary>\r\n              </Feed.Content>\r\n            </Feed.Event>\r\n          </Feed>\r\n        </Card.Content>\r\n      </Card>\r\n    </Card.Group>\r\n  );\r\n}\r\n\r\nexport default LiveNews;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { createChart, CrosshairMode, isBusinessDay } from \"lightweight-charts\";\r\nimport { Button, Segment } from 'semantic-ui-react';\r\nimport Chart from \"./Chart\";\r\nimport LiveNews from \"./LiveNews\";\r\nimport axios from 'axios';\r\n\r\nfunction LiveData (props) {\r\n    const [intraButtonValue, setIntraButtonValue] = useState('1D');\r\n    const [otherButtonsValue, setOtherButtonsValue] = useState('');\r\n    const [intraValueChange, setIntraValueChange] = useState(false);\r\n    const [otherValueChange, setOtherValueChange] = useState(false);\r\n    const [intraDayPressed, setIntraDayPressed] = useState(true);\r\n    const [chartData, setChartData] = useState({\r\n        candleData: [],\r\n        volumeData: [],\r\n        totalWorthData: [],\r\n      });\r\n\r\n    const candleSeries = useRef(null);\r\n    const volumeSeries = useRef(null);\r\n    const totalWorthSeries = useRef(null);\r\n    const chart = useRef(null);\r\n    const chart2 = useRef(null);\r\n    const toolTip = useRef(null);\r\n    const toolTip2 = useRef(null);\r\n    \r\n    const chartRef = React.createRef();\r\n    const chartRef2 = React.createRef();\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        setIntraValueChange(!intraValueChange);\r\n        setIntraButtonValue(e.target.innerHTML);\r\n        setIntraDayPressed(true);\r\n    }\r\n\r\n    const handleOtherClick = (e) => {\r\n        e.preventDefault();\r\n        setOtherValueChange(!otherValueChange);\r\n        setOtherButtonsValue(e.target.innerHTML);\r\n        setIntraDayPressed(false);\r\n    }\r\n\r\n    const setCrosshair = () => {\r\n      toolTip.current.innerHTML =\r\n        '<div style=\"font-size: 13px; color: #FFFFFF;\">' +\r\n        '<p style=\"margin:0;\"><span>O -</span>' +\r\n        \"&ensp;<span>H -</span>\" +\r\n        \"&ensp;<span>L -</span>\" +\r\n        \"&ensp;<span>C -</span>\" +\r\n        \"&ensp;<span>VOLUME -</span> \" +\r\n        \"</p>\" +\r\n        \"</div>\";\r\n\r\n      toolTip2.current.innerHTML =\r\n        '<div style=\"font-size: 13px; color: #FFFFFF;\">' +\r\n        '<p style=\"margin:0;\"><span>TOTAL WORTH -</span>' +\r\n        \"</p>\" +\r\n        \"</div>\";\r\n      chart.current.subscribeCrosshairMove(function (param) {\r\n        var price = param.seriesPrices.get(candleSeries.current);\r\n        var volume = param.seriesPrices.get(volumeSeries.current);\r\n        var dateObj = new Date(param.time * 1000);\r\n        var time = dateObj.toUTCString().slice(0, 25);\r\n\r\n        if (typeof price !== \"undefined\" && typeof volume !== \"undefined\") {\r\n          toolTip.current.innerHTML =\r\n            '<div style=\"font-size: 13px;\">' +\r\n            '<p style=\"margin:0;\"><span>O</span> ' +\r\n            price.open +\r\n            \"&ensp;<span>H</span> \" +\r\n            price.high +\r\n            \"&ensp;<span>L</span> \" +\r\n            price.low +\r\n            \"&ensp;<span>C</span> \" +\r\n            price.close +\r\n            \"&ensp;<span>VOLUME</span> \" +\r\n            volume +\r\n            \"&ensp;\" +\r\n            \"<span>\" +\r\n            time +\r\n            \"</span>\" +\r\n            \"</p>\" +\r\n            \"</div>\";\r\n\r\n          if (price.open <= price.close) {\r\n            toolTip.current.getElementsByTagName(\"P\")[0].style.color =\r\n              \"#34f7e5\";\r\n          } else {\r\n            toolTip.current.getElementsByTagName(\"P\")[0].style.color =\r\n              \"#ef5350\";\r\n          }\r\n        }\r\n      });\r\n\r\n      chart2.current.subscribeCrosshairMove(function (param) {\r\n        var value = param.seriesPrices.get(totalWorthSeries.current);\r\n        // var time = {hours: 0, mins: 0, secs: 0}\r\n        var dateObj = new Date(param.time * 1000);\r\n        var time = dateObj.toUTCString().slice(0, 25);\r\n        // var dateObj =  dateToChartTimeMinute(new Date(param.time*1000));\r\n        // var time = new Date(dateObj*1000);\r\n\r\n        if (typeof value !== \"undefined\") {\r\n          toolTip2.current.innerHTML =\r\n            '<div style=\"font-size: 13px;\">' +\r\n            '<p style=\"margin:0;\"><span>TOTAL WORTH </span>' +\r\n            value +\r\n            \"&ensp;\" +\r\n            \"<span>\" +\r\n            time +\r\n            \"</span>\" +\r\n            \"</p>\" +\r\n            \"</div>\";\r\n        }\r\n      });\r\n    };\r\n\r\n    useEffect(() => {\r\n        var str = window.getComputedStyle(document.getElementById('sampled-data'), null).getPropertyValue('padding');\r\n        chart.current = createChart(chartRef.current, {\r\n            width: document.getElementById(\"sampled-data\").offsetWidth-(parseInt(str.slice(-str.length, -2), 10)*2),\r\n            height: (document.getElementById(\"sampled-data\").offsetHeight*0.45),\r\n            crosshair: {\r\n                mode: CrosshairMode.Normal,\r\n            },\r\n            layout: {\r\n              backgroundColor: '#2B2B43',\r\n              lineColor: '#2B2B43',\r\n              textColor: '#D9D9D9',\r\n            },\r\n            grid: {\r\n              vertLines: {\r\n                color: '#2B2B43',\r\n              },\r\n              horzLines: {\r\n                color: '#363C4E',\r\n              },\r\n            },\r\n        });\r\n\r\n        chart2.current = createChart(chartRef2.current, {\r\n            width: document.getElementById(\"sampled-data\").offsetWidth-(parseInt(str.slice(-str.length, -2), 10)*2),\r\n            height: (document.getElementById(\"sampled-data\").offsetHeight*0.12),\r\n            crosshair: {\r\n                mode: CrosshairMode.Normal,\r\n            },\r\n            layout: {\r\n              backgroundColor: '#2B2B43',\r\n              lineColor: '#2B2B43',\r\n              textColor: '#D9D9D9',\r\n            },\r\n            grid: {\r\n              vertLines: {\r\n                color: '#2B2B43',\r\n              },\r\n              horzLines: {\r\n                color: '#363C4E',\r\n              },\r\n            },\r\n        });\r\n        \r\n        document.body.onresize = function () {\r\n          if (document.getElementById(\"sampled-data\")) {\r\n            var str = window\r\n              .getComputedStyle(document.getElementById(\"sampled-data\"), null)\r\n              .getPropertyValue(\"padding\");\r\n            chart.current.resize(\r\n              document.getElementById(\"sampled-data\").offsetWidth -\r\n                parseInt(str.slice(-str.length, -2), 10) * 2,\r\n              document.getElementById(\"sampled-data\").offsetHeight * 0.45\r\n            );\r\n            chart2.current.resize(\r\n              document.getElementById(\"sampled-data\").offsetWidth -\r\n                parseInt(str.slice(-str.length, -2), 10) * 2,\r\n              document.getElementById(\"sampled-data\").offsetHeight * 0.12\r\n            );\r\n          }\r\n        };\r\n\r\n        chart.current.applyOptions({\r\n          timeScale: {\r\n            lockVisibleTimeRangeOnResize: true,\r\n            rightBarStaysOnScroll: true,\r\n            visible: true,\r\n            timeVisible: true,\r\n            secondsVisible: false,\r\n            tickMarkFormatter: (time, tickMarkType, locale) => {\r\n              console.log(time, tickMarkType, locale);\r\n              const year = isBusinessDay(time)\r\n                ? time.year\r\n                : new Date(time * 1000).getUTCFullYear();\r\n              return String(year);\r\n            },\r\n          },\r\n        });\r\n\r\n        chart2.current.applyOptions({\r\n            timeScale: {\r\n                lockVisibleTimeRangeOnResize: true,\r\n                rightBarStaysOnScroll: true,\r\n                visible: true,\r\n                timeVisible: true,\r\n                secondsVisible: false,\r\n            },\r\n        });\r\n\r\n\r\n        candleSeries.current = chart.current.addCandlestickSeries();\r\n        volumeSeries.current = chart.current.addHistogramSeries({\r\n            color: '#26a69a',\r\n            lineWidth: 2,\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            overlay: true,\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0, \r\n            },\r\n        });\r\n\r\n        totalWorthSeries.current = chart2.current.addHistogramSeries({\r\n            color: '#26a69a',\r\n            lineWidth: 2,\r\n            priceFormat: {\r\n                type: 'volume',\r\n            },\r\n            overlay: true,\r\n            scaleMargins: {\r\n                top: 0.8,\r\n                bottom: 0, \r\n            },\r\n        });\r\n        candleSeries.current.setData([]);\r\n        volumeSeries.current.setData([]);\r\n        totalWorthSeries.current.setData([]);\r\n\r\n        toolTip.current = document.createElement(\"div\");\r\n        toolTip.current.className = \"three-line-legend\";\r\n        chartRef.current.appendChild(toolTip.current);\r\n        toolTip.current.style.top = 5 + \"px\";\r\n\r\n        toolTip2.current = document.createElement(\"div\");\r\n        toolTip2.current.className = \"three-line-legend\";\r\n        chartRef2.current.appendChild(toolTip2.current);\r\n        toolTip2.current.style.top = 5 + \"px\";\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      setCrosshair();\r\n    }, [intraValueChange]);\r\n\r\n    useEffect(() => {\r\n      setCrosshair();\r\n    }, [otherValueChange]);\r\n\r\n    useEffect(() => {\r\n      candleSeries.current.setData([]);\r\n      volumeSeries.current.setData([]);\r\n      totalWorthSeries.current.setData([]);\r\n    }, [intraButtonValue, intraValueChange]);\r\n\r\n    const fetchDailyData= async (sample) => {\r\n      axios\r\n      .get('https://digdeepapi.herokuapp.com/stock-data/all', {\r\n        params: {\r\n          n: sample\r\n        }})\r\n      .then(response => {\r\n        var data_length = response.data.length;\r\n        var fetchedCandleData = [];\r\n        var fetchedVolumeData = [];\r\n        var fetchedTotalWorthData = [];\r\n        var time, open, high, low, close, value, color;\r\n        candleSeries.current.setData([]);\r\n        volumeSeries.current.setData([]);\r\n\r\n        while (data_length > 1) {\r\n          ({ time, open, high, low, close, value } = response.data[data_length - 1]);\r\n          var time_split = time.split(\"/\");\r\n          time = Date.UTC(time_split[2], time_split[0], time_split[1]) / 1000;\r\n\r\n          if (response.data[data_length - 1].open <= response.data[data_length - 1].close) {\r\n            color = \"#26a69a\";\r\n          } else {\r\n            color = \"#ef5350\";\r\n          }\r\n          fetchedCandleData.push({ time, open, high, low, close });\r\n          fetchedVolumeData.push({ time, value, color });\r\n          value = close * value;\r\n          fetchedTotalWorthData.push({ time, value });\r\n          data_length = data_length - 1;\r\n        }\r\n\r\n        setChartData({\r\n          candleData: fetchedCandleData,\r\n          volumeData: fetchedVolumeData,\r\n          totalWorthData: fetchedTotalWorthData,\r\n        });\r\n      })\r\n      .catch(error => console.error(`There was an error retrieving the book list: ${error}`))\r\n    }\r\n\r\n    useEffect(() => {\r\n      var sample;\r\n      if (otherButtonsValue !== \"\") {\r\n        switch (otherButtonsValue) {\r\n          case \"1M\":\r\n            sample = 20;\r\n            break;\r\n          case \"3M\":\r\n            sample = 62;\r\n            break;\r\n          case \"6M\":\r\n            sample = 125;\r\n            break;\r\n          case \"YTD\":\r\n            sample = -1;\r\n            break;\r\n          case \"1Y\":\r\n            sample = 251;\r\n            break;\r\n          case \"2Y\":\r\n            sample = 503;\r\n            break;\r\n          case \"5Y\":\r\n            sample = 1259;\r\n            break;\r\n          case \"Max\":\r\n            sample = -2;\r\n            break;\r\n          default:\r\n            sample = 20;\r\n        }\r\n\r\n        fetchDailyData(sample);\r\n      }\r\n    }, [otherButtonsValue, otherValueChange]);\r\n\r\n    return (\r\n      // <div>\r\n          <Segment inverted id=\"sampled-data\">\r\n            <div style={{marginBottom: '10px'}}>\r\n              <div style={{paddingBottom: 10}}>\r\n                <Button inverted compact basic onClick={handleClick}>1D</Button>\r\n                <Button inverted compact basic onClick={handleClick}>5D</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>1M</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>3M</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>6M</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>YTD</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>1Y</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>2Y</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>5Y</Button>\r\n                <Button inverted compact basic onClick={handleOtherClick}>Max</Button>\r\n              </div>\r\n              {intraDayPressed? \r\n                <Chart \r\n                  chartRef={chartRef}\r\n                  chartRef2 = {chartRef2}\r\n                  candleSeries={candleSeries}\r\n                  volumeSeries={volumeSeries}\r\n                  totalWorthSeries={totalWorthSeries}\r\n                  candleData={props.candleData}\r\n                  volumeData={props.volumeData}\r\n                  totalWorthData={props.totalWorthData}\r\n                /> :\r\n                <Chart \r\n                  chartRef={chartRef}\r\n                  chartRef2 = {chartRef2}\r\n                  candleSeries={candleSeries}\r\n                  volumeSeries={volumeSeries}\r\n                  totalWorthSeries ={totalWorthSeries}\r\n                  candleData={chartData.candleData}\r\n                  volumeData={chartData.volumeData}\r\n                  totalWorthData={chartData.totalWorthData}\r\n                />\r\n              }\r\n            </div>\r\n            <LiveNews />\r\n          </Segment>\r\n        // </div>\r\n    );\r\n}\r\n\r\nexport default LiveData;","import React from \"react\";\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nfunction UnderConstruction () {\r\n    return(\r\n        <div id=\"under-const\">\r\n            <div className=\"under-const-msg\">\r\n                <Icon name='cogs' size='big' style={{marginRight: 8}}/>\r\n                <h1>Section Under Construction</h1>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UnderConstruction;","import React, { useState } from \"react\";\r\nimport { Menu, Search } from 'semantic-ui-react';\r\nimport { useHistory } from \"react-router\";\r\nimport _ from 'lodash';\r\n\r\nfunction NavBar() {\r\n    const [activeNavItem, setActiveNavItem] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [results, setResults] = useState([]);\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n\r\n    const source = [\r\n      {\r\n        title: \"Ajantha Pharma Ltd\",\r\n        description: \"AJANTPHARM\",\r\n      },\r\n    ];\r\n    const handleResultSelect = (e, { result }) =>\r\n      history.push(\"/stock/\" + result.description);\r\n\r\n    const handleSearchChange = (e, { value }) => {\r\n      setSearchValue(value);\r\n      if (searchValue.length < 1) {\r\n        setResults([]);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        const re = new RegExp(_.escapeRegExp(value), \"i\");\r\n        const isMatch = (result) => re.test(result.title);\r\n        console.log(isMatch);\r\n        setIsLoading(false);\r\n        console.log(_.filter(source, isMatch));\r\n        setResults(_.filter(source, isMatch));\r\n      }, 300);\r\n    };\r\n\r\n    const handleNavClick = (e, name) => {\r\n      if (name !== activeNavItem) {\r\n        // setButtonValue(name);\r\n        setActiveNavItem(name);\r\n      }\r\n    };\r\n\r\n  return (\r\n    <div id=\"navbar\">\r\n      <Menu inverted text size=\"large\">\r\n        <Menu.Item icon>\r\n          <img\r\n            src={\"./img/logo.png\"}\r\n            style={{ paddingRight: 10, width: \"3em\" }}\r\n            alt=\"Dig Deep logo\"\r\n          />\r\n          <h3 style={{ margin: 0 }}>DIG DEEP</h3>\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item size=\"large\" style={{ width: \"60%\" }}>\r\n            <Search\r\n              fluid\r\n              input={{ icon: \"search\", iconPosition: \"left\" }}\r\n              size=\"small\"\r\n              placeholder=\"Search Stocks, Ex. Ajanta Pharma\"\r\n              style={{ width: \"100%\" }}\r\n              loading={isLoading}\r\n              onResultSelect={handleResultSelect}\r\n              onSearchChange={_.debounce(handleSearchChange, 500, {\r\n                leading: true,\r\n              })}\r\n              results={results}\r\n              value={searchValue}\r\n            />\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"ABOUT US\"\r\n            active={activeNavItem === \"ABOUT US\"}\r\n            onClick={(e, { name }) => handleNavClick(e, name)}\r\n          />\r\n          <Menu.Item\r\n            name=\"SIGN-IN\"\r\n            active={activeNavItem === \"SIGN-IN\"}\r\n            onClick={(e, { name }) => handleNavClick(e, name)}\r\n          />\r\n        </Menu.Menu>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport PersistentLiveData from \"./PersistentLiveData\";\r\nimport LiveData from \"./LiveData\";\r\nimport UnderConstruction from \"./UnderConstruction\";\r\nimport { Button, Icon } from 'semantic-ui-react';\r\nimport NavBar from \"./NavBar.js\";\r\nimport axios from 'axios';\r\n\r\nfunction StockData() {\r\n    const [intraDayData, setIntraDayData] = useState({\r\n        candleData: [],\r\n        volumeData: [],\r\n        totalWorthData: [],\r\n      });\r\n    // const [buttonValue, setButtonValue] = useState('LIVE DATA');\r\n    const [activeItem, setActiveItem] = useState('LIVE DATA'); \r\n\r\n    const row = useRef(-1);\r\n   \r\n    const handleClick = (e, name) => {\r\n        if(name !== activeItem) {\r\n            // setButtonValue(name);\r\n            setActiveItem(name);\r\n        }\r\n    }\r\n\r\n    const dateToChartTimeMinute = (date) => {\r\n      return Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), 0, 0) / 1000;\r\n    };\r\n\r\n    const fetchLiveData = async (id) => {\r\n      // Send GET request to endpoint\r\n      axios.all([\r\n        axios.get('https://digdeepapi.herokuapp.com/stock-data/retrieve-candle', {\r\n          params: {\r\n            id: id \r\n          }}),\r\n        axios.get('https://digdeepapi.herokuapp.com/stock-data/retrieve-volume', {\r\n          params: {\r\n            id: id \r\n          }})\r\n      ])\r\n        .then(axios.spread((candle, volume) => {\r\n          var newCandleData = candle.data[0];\r\n          var newVolumeData = volume.data[0];\r\n          delete newCandleData.id;\r\n          delete newVolumeData.id;\r\n          var newTotalWorthData = {value: newCandleData.close*newVolumeData.value, time: newCandleData.time};\r\n          if ((newCandleData && newVolumeData) != null) {\r\n            if (newCandleData.open <= newCandleData.close) {\r\n              newVolumeData.color = \"#26a69a\";\r\n              newTotalWorthData.color = \"#26a69a\";\r\n            } else {\r\n              newVolumeData.color = \"#ef5350\";\r\n              newTotalWorthData.color = \"#ef5350\";\r\n            }\r\n          }\r\n          newCandleData.time = dateToChartTimeMinute(new Date(newCandleData.time*1000));\r\n          newVolumeData.time = dateToChartTimeMinute(new Date(newVolumeData.time*1000));\r\n          newTotalWorthData.time = dateToChartTimeMinute(new Date(newTotalWorthData.time*1000));\r\n          const incomingCandleData = [...intraDayData.candleData, newCandleData];\r\n          const incomingVolumeData = [...intraDayData.volumeData, newVolumeData];\r\n          const incomingTotalWorthData = [...intraDayData.totalWorthData, newTotalWorthData];\r\n          setIntraDayData({\r\n            candleData: incomingCandleData,\r\n            volumeData: incomingVolumeData,\r\n            totalWorthData: incomingTotalWorthData,\r\n          });\r\n\r\n        }))\r\n        .catch(error => console.error(`There was an error retrieving the book list: ${error}`))\r\n    }\r\n\r\n\r\n    useEffect (() => {\r\n      if(document.getElementById(\"live-price\") !== null){\r\n        var live_price = document.getElementById(\"live-price\");\r\n        var sticky = live_price.offsetTop;\r\n        var newItem = document.createElement(\"P\");    \r\n        var textnode = document.createTextNode(\"AJANTPHARM\"); \r\n        newItem.appendChild(textnode);  \r\n        \r\n        function myFunction() {\r\n          if (window.pageYOffset > sticky && !document.getElementById(\"modal-hist-segment\")) {\r\n            live_price.firstChild.style.display = 'inline';\r\n            live_price.childNodes[1].style.display = 'inline';\r\n            live_price.childNodes[1].style.marginLeft = '20px';\r\n            live_price.style.margin = '';\r\n            live_price.style.padding = '';\r\n            live_price.classList.add(\"sticky\");\r\n          } else {\r\n            live_price.firstChild.style.display = 'none';\r\n            live_price.childNodes[1].style.display = '';\r\n            live_price.childNodes[1].style.marginLeft = '';\r\n            // live_price.firstChild.className = \"show\";\r\n            live_price.classList.remove(\"sticky\");\r\n          }\r\n        }\r\n        window.onscroll = function() {myFunction()};\r\n      }\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n      if(row.current < 340) {\r\n        const interval = setInterval(() => {\r\n          fetchLiveData(++row.current);\r\n        }, 2000);\r\n        return () => clearInterval(interval);\r\n      }\r\n    },[intraDayData.candleData, intraDayData.volumeData]);\r\n\r\n    return (\r\n      <div>\r\n        <NavBar />\r\n        <div className=\"all-stock-data\">\r\n          <div id=\"stock-data-header\">\r\n            <div style={{ marginRight: 20 }}>\r\n              <h2 style={{ margin: 0 }}>Ajanta Pharma Ltd</h2>\r\n              <p>NSE: AJANTPHARM</p>\r\n            </div>\r\n            <div id=\"live-price\">\r\n              <h4 style={{ display: \"none\" }}>NSE: AJANTPHARM</h4>\r\n              <h2\r\n                style={{\r\n                  paddingBottom: 10,\r\n                  paddingTop: 10,\r\n                  margin: 0,\r\n                  color:\r\n                    intraDayData.candleData.length > 1\r\n                      ? intraDayData.candleData[\r\n                          intraDayData.candleData.length - 1\r\n                        ].close >=\r\n                        intraDayData.candleData[\r\n                          intraDayData.candleData.length - 2\r\n                        ].close\r\n                        ? \"#34f7e5\"\r\n                        : \"#ef5350\"\r\n                      : \"#34f7e5\",\r\n                }}\r\n              >\r\n                {intraDayData.candleData.length !== 0\r\n                  ? intraDayData.candleData[\r\n                      intraDayData.candleData.length - 1\r\n                    ].close.toFixed(2)\r\n                  : \"\"}{\" \"}\r\n                {intraDayData.candleData.length > 1 ? (\r\n                  intraDayData.candleData[intraDayData.candleData.length - 1]\r\n                    .close >=\r\n                  intraDayData.candleData[intraDayData.candleData.length - 2]\r\n                    .close ? (\r\n                    <Icon size=\"small\" name=\"caret up\" />\r\n                  ) : (\r\n                    <Icon size=\"small\" name=\"caret down\" />\r\n                  )\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <h3\r\n                  style={{\r\n                    display: \"inline\",\r\n                    paddingLeft: 5,\r\n                  }}\r\n                >\r\n                  {intraDayData.candleData.length > 1\r\n                    ? (\r\n                        intraDayData.candleData[\r\n                          intraDayData.candleData.length - 1\r\n                        ].close -\r\n                        intraDayData.candleData[\r\n                          intraDayData.candleData.length - 2\r\n                        ].close\r\n                      ).toFixed(2)\r\n                    : \"\"}\r\n                </h3>\r\n                <h3\r\n                  style={{\r\n                    display: \"inline\",\r\n                    paddingLeft: 5,\r\n                  }}\r\n                >\r\n                  {intraDayData.candleData.length > 1\r\n                    ? \"  (\" +\r\n                      (\r\n                        ((intraDayData.candleData[\r\n                          intraDayData.candleData.length - 1\r\n                        ].close -\r\n                          intraDayData.candleData[\r\n                            intraDayData.candleData.length - 2\r\n                          ].close) /\r\n                          intraDayData.candleData[\r\n                            intraDayData.candleData.length - 1\r\n                          ].close) *\r\n                        100\r\n                      ).toFixed(2) +\r\n                      \"%)\"\r\n                    : \"\"}\r\n                </h3>\r\n              </h2>\r\n            </div>\r\n          </div>\r\n          <Button.Group widths=\"5\">\r\n            <Button\r\n              active={activeItem === \"LIVE DATA\"}\r\n              name=\"LIVE DATA\"\r\n              onClick={(e, { name }) => handleClick(e, name)}\r\n            >\r\n              LIVE DATA\r\n            </Button>\r\n            <Button\r\n              active={activeItem === \"TECHNICAL\"}\r\n              name=\"TECHNICAL\"\r\n              onClick={(e, { name }) => handleClick(e, name)}\r\n            >\r\n              TECHNICAL\r\n            </Button>\r\n            <Button\r\n              active={activeItem === \"NEWS\"}\r\n              name=\"NEWS\"\r\n              onClick={(e, { name }) => handleClick(e, name)}\r\n            >\r\n              NEWS\r\n            </Button>\r\n            <Button\r\n              active={activeItem === \"SOCIAL MEDIA\"}\r\n              name=\"SOCIAL MEDIA\"\r\n              onClick={(e, { name }) => handleClick(e, name)}\r\n            >\r\n              SOCIAL MEDIA\r\n            </Button>\r\n            <Button\r\n              active={activeItem === \"COMPARE\"}\r\n              name=\"COMPARE\"\r\n              onClick={(e, { name }) => handleClick(e, name)}\r\n            >\r\n              COMPARE\r\n            </Button>\r\n          </Button.Group>\r\n          <div id=\"stock-data\">\r\n            {activeItem === \"LIVE DATA\" ? (\r\n              <LiveData\r\n                candleData={intraDayData.candleData}\r\n                volumeData={intraDayData.volumeData}\r\n                totalWorthData={intraDayData.totalWorthData}\r\n              />\r\n            ) : (\r\n              <UnderConstruction />\r\n            )}\r\n            <PersistentLiveData candleData={intraDayData.candleData} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default StockData;","import React, { useState } from \"react\";\r\nimport NavBar from \"./NavBar.js\";\r\nimport { Search } from \"semantic-ui-react\";\r\nimport { useHistory } from \"react-router\";\r\nimport _ from 'lodash';\r\nimport AOS from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\n\r\nAOS.init();\r\n\r\nfunction HomePage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  \r\n  const history = useHistory();\r\n\r\n  const source = [\r\n    {\r\n      title: \"Ajanta Pharma Ltd\",\r\n      description: \"AJANTPHARM\",\r\n    },\r\n  ];\r\n  const handleResultSelect = (e, { result }) => history.push('/stock/'+result.description);\r\n\r\n  const handleSearchChange = (e, { value }) => {\r\n    setSearchValue(value);\r\n    if (searchValue.length < 1) {\r\n      setResults([]);\r\n    };\r\n\r\n    setTimeout(() => {\r\n      const re = new RegExp(_.escapeRegExp(value), \"i\");\r\n      const isMatch = (result) => re.test(result.title);\r\n      console.log(isMatch);\r\n      setIsLoading(false);\r\n      console.log(_.filter(source, isMatch));\r\n      setResults(_.filter(source, isMatch));\r\n    }, 300);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <NavBar />\r\n      <div id=\"home-page-showcase\">\r\n        <img\r\n          src={\"./img/bull.png\"}\r\n          className=\"bull\"\r\n          data-aos=\"fade-right\"\r\n          data-aos-offset=\"200\"\r\n          data-aos-delay=\"50\"\r\n          data-aos-duration=\"2000\"\r\n          data-aos-easing=\"ease-in-out\"\r\n          alt=\"Pixelated Bull\"\r\n        />\r\n        <img\r\n          src={\"./img/bear.png\"}\r\n          className=\"bear\"\r\n          data-aos=\"fade-left\"\r\n          data-aos-offset=\"200\"\r\n          data-aos-delay=\"50\"\r\n          data-aos-duration=\"2000\"\r\n          data-aos-easing=\"ease-in-out\"\r\n          alt=\"Pixelated Bear\"\r\n        />\r\n      </div>\r\n      <div\r\n        className=\"showcase-focus\"\r\n        data-aos=\"fade-down\"\r\n        data-aos-offset=\"200\"\r\n        data-aos-delay=\"50\"\r\n        data-aos-duration=\"2000\"\r\n        data-aos-easing=\"ease-in-out\"\r\n      >\r\n        <div className=\"showcase-branding\">\r\n          <img src={\"./img/logo.png\"} alt=\"Dig Deep Logo\"/>\r\n          <h3>DIG DEEP</h3>\r\n        </div>\r\n        <Search\r\n          fluid\r\n          input={{ icon: \"search\", iconPosition: \"left\" }}\r\n          size=\"huge\"\r\n          placeholder=\"Search Stocks, Ex. Ajanta Pharma\"\r\n          loading={isLoading}\r\n          onResultSelect={handleResultSelect}\r\n          onSearchChange={_.debounce(handleSearchChange, 500, {\r\n            leading: true,\r\n          })}\r\n          results={results}\r\n          value={searchValue}\r\n        />\r\n        <p>\r\n          Get trading insights from algo traders, data scientists using AI and\r\n          Machine Learning\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, {Component} from \"react\";\r\nimport StockData from \"./StockData\";\r\nimport HomePage from \"./HomePage\";\r\nimport {HashRouter as Router, Route, Switch} from \"react-router-dom\";\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <main>\r\n          {/* <StockData /> */}\r\n        <Router>\r\n          <div className=\"App-intro\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={HomePage}/>\r\n              <Route exact path=\"/stock/AJANTPHARM\" component={StockData} />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App\r\n\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}